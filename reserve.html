<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
    <title>Reserve</title>
</head>
<body>
        <div class="container d-block mx-auto">
                <ul class="nav">
                    <li class="nav-item"><a href="/api/tables">API TABLE |</a></li>
                    <li class="nav-item"><a href="/api/reserve"> WAITLIST |</a></li>
                    <li class="nav-item"><a href="#">CLEAR</a></li>
                    
                </ul>
            </div>
                <div class="container">
                    <div class="jumbotron">
                        <h1 class="text-center">Reservation App</h1>
                        <br>
                        <h3 class="text-center">Make a Reservation</h3>
                        <br>
                        <div class="text-center">
                            <a href="/">
                            <button class="btn btn-primary">Return to Base</button>
                            </a>
                            <a href="/tables">
                            <button class="btn btn-success">Tables</button>
                        </a>
                           
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <h4>Reservation Form</h4>
                        </div>
                        <div class="card-body">
                            <form role="form">
                                <div class="form-group">
                                    <label for="Name">Name</label>
                                    <input type="text" class="form-control" id="resName">
                                </div>
                                <div class="form-group">
                                        <label for="Name">Phone Number</label>
                                        <input type="text" class="form-control" id="resPhone">
                                </div>
                                <div class="form-group">
                                        <label for="Name">Email</label>
                                        <input type="text" class="form-control" id="resEmail">
                                </div>
                                <div class="form-group">
                                        <label for="Name">Unique Identifier(so we can find you)</label>
                                        <input type="text" class="form-control" id="resID">
                                </div>
                               
                                    <button type="submit" id="sendForm" class="btn btn-success">Submit</button>
                            
                            </form>
                        </div>
                    </div>
                </div>

<script>


    
    $("#sendForm").on("click", (event) => {

        event.preventDefault()
        let idVal = /^\w{1}$/
        let nameVal = /^[a-zA-Z]*$/
        let phoneVal = /^[2-9]\d{2}-\d{3}-\d{4}$/
        let emailVal = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
        const newReserve = {
            customerName: $(`#resName`).val().trim(),
            phoneNumber: $('#resPhone').val().trim(),
            resEmail: $('#resEmail').val().trim(),
            customerID:$('#resID').val().trim()
        }
       
        nameVal.test(newReserve.customerName) ? console.log(newReserve.customerName) : console.log('Enter A Valid Name')
        phoneVal.test(newReserve.phoneNumber) ? console.log(newReserve.phoneNumber) : console.log('Enter a Valid Phone Number')
        emailVal.test(newReserve.resEmail) ? console.log(newReserve.resEmail) : console.log('Enter a valid email')
        idVal.test(newReserve.customerID) ? console.log(newReserve.customerID) : console.log('Enter a Single Character or Number')

       $.post("api/tables", newReserve, (res, status)=>{

        console.log(res)

           
       })
            $(`#resName`).val("")
            $(`#resPhone`).val("")
            $(`#resEmail`).val("")
            $(`#resID`).val("")
            
       
    
    })


   

</script>
</body>
</html>